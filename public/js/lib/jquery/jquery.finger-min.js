(function(c,u){function m(a){a.preventDefault();c.event.remove(e,"click",m)}function k(a,b){return(f?b.originalEvent.touches[0]:b)["page"+a.toUpperCase()]}function l(a,h,d){var g=c.Event(h,b);c.event.trigger(g,{originalEvent:a},a.target);g.isDefaultPrevented()&&(~h.indexOf("tap")&&!f?c.event.add(e,"click",m):a.preventDefault());d&&(c.event.remove(e,v+".finger",w),c.event.remove(e,n+".finger",p))}function w(a){b.x=k("x",a);b.y=k("y",a);b.dx=b.x-d.x;b.dy=b.y-d.y;b.adx=Math.abs(b.dx);b.ady=Math.abs(b.dy);
if(q=b.adx>g.motionThreshold||b.ady>g.motionThreshold){clearTimeout(r);b.orientation||(b.adx>b.ady?(b.orientation="horizontal",b.direction=0<b.dx?1:-1):(b.orientation="vertical",b.direction=0<b.dy?1:-1));for(;a.target&&a.target!==d.target;)a.target=a.target.parentNode;a.target!==d.target?(a.target=d.target,p.call(this,c.Event(n+".finger",a))):l(a,"drag")}}function p(a){var c=a.timeStamp||+new Date,e=c-d.time;clearTimeout(r);if(q||s||a.target!==d.target)a.target=d.target,e<g.flickDuration&&l(a,"flick"),
b.end=!0,e="drag";else{var f=x===a.target&&c-y<g.doubleTapInterval,e=f?"doubletap":"tap";x=f?null:d.target;y=c}l(a,e,!0)}var t=/chrome/i.exec(u),A=/android/i.exec(u),f="ontouchstart"in window&&!(t&&!A),t=f?"touchstart":"mousedown",n=f?"touchend touchcancel":"mouseup mouseleave",v=f?"touchmove":"mousemove",e=c("html")[0],d={},b={},q,s,z,r,x,y,g=c.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};c.event.add(e,t+".finger",function(a){var h=a.timeStamp||+new Date;z!=
h&&(z=h,d.x=b.x=k("x",a),d.y=b.y=k("y",a),d.time=h,d.target=a.target,b.orientation=null,s=q=b.end=!1,r=setTimeout(function(){s=!0;l(a,"press")},c.Finger.pressDuration),c.event.add(e,v+".finger",w),c.event.add(e,n+".finger",p),g.preventDefault&&(a.preventDefault(),c.event.add(e,"click",m)))});c.each(["tap","doubletap","press","drag","flick"],function(a,b){c.fn[b]=function(a){return a?this.on(b,a):this.trigger(b)}})})(jQuery,navigator.userAgent);